<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="utf-8" />
  <title>スプラスケジュール</title>
  <script src="https://unpkg.com/vue@3.0.0"></script>
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f9f9f9;
      margin: 0;
      padding: 0;
    }

    .schedule {
      width: 80%;
      margin: 20px auto;
      border-collapse: collapse;
      border: 1px solid #ddd;
      background-color: #fff;
    }

    .schedule th,
    .schedule td {
      border: 1px solid #ddd;
      padding: 10px;
      text-align: center;
    }

    .schedule th {
      background-color: #f4f4f4;
      font-weight: bold;
    }

    .time-slot {
      background-color: #fffae6;
      font-weight: bold;
    }

    .mode {
      display: flex;
      align-items: center;
      gap: 10px;
      border: none;
      /* 枠線を消す */
    }

    .mode img {
      width: 30px;
      height: 30px;
    }

    .stage img {
      width: 300px;
      height: auto;
      max-height: 150px;
      border-radius: 5px;
    }

    .stage-list {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 10px;
    }

    .stage-name {
      font-size: 0.9em;
      margin-bottom: 5px;
      /* 画像上に余白を作る */
    }

    .footer {
      text-align: center;
      margin-top: 20px;
      font-size: 12px;
      color: #666;
    }

    .date-row {
      background-color: #f4f4f4;
      font-size: 1.2em;
      font-weight: bold;
    }
  </style>
</head>

<body>
  <div id="app1">
    <table class="schedule">
      <tr class="date-row">
        <td colspan="3">2024/12/15</td>
      </tr>
      <tr>
        <th>時間</th>
        <th>モード</th>
        <th>ステージ</th>
      </tr>
      <tr v-for="item in itemList">
        <td class="time-slot">{{ item.start_time }}</td>
        <td>
          {{ item.rule.name }}
        </td>
        <td class="stage">
          <div class="stage-list">
            <div>
              <div class="stage-name">{{ item.stages[0].name }}</div><img :src="item.stages[0].image"
                alt="{{ item.stages[0].name }}">
            </div>
            <div>
              <div class="stage-name">{{ item.stages[1].name }}</div><img :src="item.stages[1].image"
                alt="{{ item.stages[1].name }}">
            </div>
          </div>
        </td>
      </tr>
      <!-- 追加の行をここに挿入 -->
    </table>
  </div>

  <script>
    var itemList = []
    const App1 = {
      data() {
        return {
          itemList: itemList
        }
      }
    }

    // GETリクエストを実行
    axios.get('https://spla3.yuu26.com/api/bankara-open/schedule')
      .then(response => {
        // リクエストが成功した場合、データを表示
        //Vueコンポーネントを定義
        itemList = response.data.results;
        const app = Vue.createApp(App1) //Vueアプリケーションを作成
        app.mount('#app1') //VueアプリケーションをHTML要素にマウント
      })
      .catch(error => {
        // リクエストが失敗した場合、エラーを表示
        console.error('Error:', error);
      });

  </script>
</body>

</html>